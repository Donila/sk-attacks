'use strict';;(function(){Vue.component('army',{data:function data(){return{time:{days:0,hours:0,minutes:0,seconds:0},speed:{text:'1x',value:1},speeds:[{text:'1x',value:1},{text:'2x',value:2},{text:'3x',value:3},{text:'4x',value:4},{text:'5x',value:5},{text:'6x fuckin dotator',value:6}],mask:'##'}},props:['army','editingArmy'],template:'\n        <div>\n            <v-layout row fluid>\n                <v-text-field\n                label="Army Name"\n                v-model="army.name"\n                :rules="nameRules"\n                required\n                ></v-text-field>\n            </v-layout>\n            <v-layout row wrap>\n                <v-flex md3 xs12>\n                <v-text-field\n                    label="Hours"\n                    v-model="time.hours"\n                    :mask="mask"\n                    type="number"\n                ></v-text-field>\n                </v-flex>\n                <v-flex md3 xs12>\n                <v-text-field\n                    label="Minutes"\n                    v-model="time.minutes"\n                    :rules="minutesRules"\n                    :mask="mask"\n                    type="number"\n                ></v-text-field>\n                </v-flex>\n                <v-flex md3 xs12>\n                <v-text-field\n                    label="Seconds"\n                    v-model="time.seconds"\n                    :rules="secondsRules"\n                    :mask="mask"\n                    type="number"\n                ></v-text-field>\n                </v-flex>\n                <v-flex md1 xs6>\n                <v-select\n                    v-bind:items="speeds"\n                    v-model="speed"\n                    label="Army speed"\n                    return-object\n                    single-line\n                    bottom\n                ></v-select>\n                </v-flex>\n                <v-flex md1 xs6>\n                <v-text-field\n                    label="Delay"\n                    v-model="army.delay"\n                    type="number"\n                ></v-text-field>\n                </v-flex>\n                <v-flex md1 xs4>\n                <v-btn fab dark color="indigo" @click="addArmy()"  :disabled="!validateArmy()">\n                    <v-icon dark v-if="!editingArmy">add</v-icon>\n                    <v-icon dark v-if="editingArmy">mdi-content-save-outline</v-icon>\n                </v-btn>\n                </v-flex>\n            </v-layout>\n        </div>\n        ',mounted:function mounted(){},watch:{editingArmy:function editingArmy(a,b){var _this=this;if(''!=a){var c=this.army.timeToTarget,d=Math.floor(c/3600),e=Math.floor((c-3600*d)/60);c=c-3600*d-60*e,this.time={days:0,hours:d,minutes:e,seconds:c},this.speed=_.find(this.speeds,function(f){return f.value==_this.army.speedMultiplier})}}},computed:{nameRules:function nameRules(){return[function(a){return a&&0<a.length||'Please enter army name.'}]},minutesRules:function minutesRules(){return[function(a){return-1<parseInt(a)||'Need minutes > 0.'},function(a){return 60>parseInt(a)||'Need minutes < 60.'}]},secondsRules:function secondsRules(){return[function(a){return-1<parseInt(a)||'Need seconds > 0.'},function(a){return 60>parseInt(a)||'Need seconds < 60.'}]}},methods:{addArmy:function addArmy(){this.validateArmy()&&(this.army.timeToTarget=this.convertTime(this.time),this.army.speedMultiplier=this.speed.value,this.editingArmy?this.$emit('army:save',this.army):this.$emit('army:add',this.army),this.speed={text:'1x',value:1},this.time={days:0,hours:0,minutes:0,seconds:0})},validateArmy:function validateArmy(){return!!this.army.name&&!(1>moment.duration(this.time).asSeconds())},convertTime:function convertTime(a){var b=moment.duration(a);return b.asSeconds()}}})})();